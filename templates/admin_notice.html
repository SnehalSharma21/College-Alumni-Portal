<!DOCTYPE html>
<html>
    {% load static%}
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Notice</title>
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'adminnotice.css' %}">
    <link rel="stylesheet" href="{% static 'style2.css' %}">
</head>
<body>
   <div id="particles-js"></div>

 <header class="header">
      <a href="#" class="logo">Collge Alumni</a>
        <nav class="navbar">
            <a href="{% url 'homestart'%}" style="--i:1">Home</a>
            <a href="{% url 'admin_about'%}" style="--i:2">About</a>
            <a href="{% url 'admin_help'%}"style="--i:3">Help</a>
             <a href="{% url 'records'%}" style="--i:4">Record</a>
            <a href="{% url 'logout'%}" style="--i:4">logout</a>
        </nav>
    </header>
      <div class="navigation">
       <ul>
           <li>
             <a href="#">
               <span class="icon"><ion-icon name="logo-apple"></ion-icon></span>
               <span class="title">Admin Dashboard</span>
             </a>
           </li>

            <li>
             <a href="{% url 'add_attendance'%}">
               <span class="icon"><i class='bx  bx-calendar-alt' ></i></span>
               <span class="title">Attendance</span>
             </a>
           </li>
           <li>
             <a href="{% url 'admin_events'%}">
               <span class="icon"><i class='bx bx-party bx-rotate-180 bx-flip-horizontal' ></i></span>
               <span class="title">Events</span>
             </a>
           </li>
           <li>
             <a href="{% url 'admin_faculty'%}">
               <span class="icon"><ion-icon name="people-outline" ></ion-icon></span>
               <span class="title">Teacher Information</span>
             </a>
           </li>
           <li>
             <a href="{% url 'admin_note'%}">
               <span class="icon"><ion-icon name="document-text-outline" ></ion-icon></span>
               <span class="title">Notes</span>
             </a>
           </li>
           <li>
             <a href="{% url 'admin_assingment'%}">
               <span class="icon"><ion-icon name="help"></ion-icon></span>
               <span class="title">Assignments</span>
             </a>
           </li>
           <li>
             <a href="{% url 'upload_course'%}">
               <span class="icon"><i class='bx bx-video' ></i></span>
               <span class="title">Courses</span>
             </a>
           </li>
           <li>
             <a href="{% url 'admin_notice'%}">
               <span class="icon"><i class='bx bx-message-rounded' ></i></span>
               <span class="title">Notice</span>
             </a>
           </li>
         </ul>
        <div class="toggle"> 

        </div>
      </div>
   

    <input type="checkbox" id="toggle-form" hidden>
   
<div class="center-add-btn">
    <button id="toggleBtn" class="open-scroll-btn">+ Add New Notice Here</button>
</div>

<div class="scroll-container">
    <div class="top-handle handle"></div>
    <div class="scroll-paper" id="scrollPaper">
        <label for="toggle-form" id="cross">x</label>
        <form action="{% url 'admin_notice' %}" method="post">
            {% csrf_token %}
            <h3>NOTICE BOARD</h3>
            <input type="text" name="nName" placeholder="Notice Subject" required>
            <textarea name="nDescription" placeholder="Event Description" rows="4" required></textarea>
            <input type="date" name="nDate" required>
            <input type="time" name="nTime" required>
            <select name="category" required>
                <option value="">--select type--</option> 
                <option value="exam">Exam</option> 
                <option value="event">Event</option> 
                <option value="holiday">Holiday</option> 
                <option value="circular">Circular</option> 
                <option value="placement">Placement</option> 
                <option value="general">General</option> 
            </select>
            <input type="text" name="updatedBy" placeholder="Updated By">
            <button type="submit" id="submit-btn">Submit</button>
        </form>
    </div>
  </div>

    
  <h2>Existing Notices</h2>  
    <div class="lower-section">
    <!-- Existing Events -->
    {% if notices %}
       {% for notice in notices %} 
         <div class="notice">
       
         <h3>{{ notice.nName }}</h3>
         <p>{{ notice.nDescription }}</p>
         <p>Date: {{ notice.nDate }}</p>
         <p>Time: {{ notice.nTime }}</p>
         <div class="notice-meta">üìÖ Date: {{notice.nDate}}  ‚è∞ Time:{{notice.nTime}} &nbsp; üßë‚Äçüè´ Updated By:{{notice.updatedBy}} </div>
         <form method="POST" action="{% url 'delete_notice' notice.id %}">
            {% csrf_token %}
            <input type="submit" value="Delete Notice" id="delete-btn" >
         </form>
         </div>
        {% endfor %}
    {% else %}
       <p>no notices yet.</p>
    {% endif %}
     </div>
      <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
      <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
      <script src="{% static 'script2.js' %}"></script>
     <script src=" https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
         <script>
     particlesJS('particles-js', {
       "particles": {
         "number": { "value": 40, "density": { "enable": true, "value_area": 700 } },
         "color": { "value": "#00f2ff" },
         "shape": { "type": "circle" },
         "opacity": { "value": 0.15, "random": true },
         "size": { "value": 4, "random": true, "anim": { "enable": true, "speed": 2, "size_min": 1 } },
         "move": { "enable": true, "speed": 1, "direction": "none", "random": true, "straight": false, "out_mode": "out", "bounce": false }
       },
       "interactivity": {
         "detect_on": "canvas",
         "events": {
           "onhover": { "enable": false },
           "onclick": { "enable": false },
           "resize": true
         }
       }
     });
   </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script>
const paper = document.getElementById('scrollPaper');
const bottomHandle = document.getElementById('bottomHandle');
let isOpen = false;
let openHeight;

window.onload = () => {
    paper.style.visibility = "hidden";
    paper.style.transform = "scaleY(1)";
    paper.style.opacity = "1";
    openHeight = paper.offsetHeight;
    paper.style.visibility = "visible";
    paper.style.transform = "scaleY(0)";
    paper.style.opacity = "0";
    bottomHandle.style.top = "20px";
};

function openScroll() {
    gsap.to(paper, {
        scaleY: 1,
        opacity: 1,
        duration: 1.5,
        ease: "elastic.out(1,0.4)",
        transformOrigin: "top center",
        onUpdate: function () {
            const p = this.progress();
            bottomHandle.style.top = (20 + openHeight * p) + "px";
        },
        onComplete: function () {
            bottomHandle.style.top = (20 + openHeight) + "px";
        }
    });
}

function closeScroll() {
    gsap.to(paper, {
        scaleY: 0,
        opacity: 0,
        duration: 1.2,
        ease: "power2.in",
        transformOrigin: "top center",
        onUpdate: function () {
            const p = this.progress();
            bottomHandle.style.top = (20 + openHeight * (1 - p)) + "px";
        },
        onComplete: function () {
            bottomHandle.style.top = "20px";
        }
    });
}

document.getElementById('toggleBtn').addEventListener('click', () => {
    isOpen = !isOpen;
    if (isOpen) openScroll();
    else closeScroll();
});

document.getElementById('cross').addEventListener('click', () => {
    isOpen = false;
    closeScroll();
});


</script>

</body>
</html>

